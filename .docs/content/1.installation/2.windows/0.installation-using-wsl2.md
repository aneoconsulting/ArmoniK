# Installation using WSL2

ArmoniK can be installed on Windows 10 and 11 using the [Windows Subsystem for Linux](https://learn.microsoft.com/en-us/windows/wsl/install) (version 2). The following instructions will guide you through the installation process.

::alert{type="info"}
You can read more about WSL2 on the [Microsoft documentation](https://learn.microsoft.com/en-us/windows/wsl/compare-versions).
::

<!-- TODO: add a warning about the requirement for systemd -->
<!-- and I must separate Linux 20 (genie) and 22 (systemd) with wsl  -->
<!-- use the guide to understand version and deprecated the usage of genie -->

## Install WSL2

To install WSL2, open the Windows Store and install the [Windows Subsystem for Linux](https://www.microsoft.com/store/productId/9P9TQF7MRM4R) application.

::alert{type="danger"}
You must use the Windows Store version of WSL2.
::

::alert{type="info"}
To read more about the WSL2 installation, you can read the [Microsoft documentation](https://learn.microsoft.com/en-us/windows/wsl/install).
::

## Install Ubuntu LTS

Then you can install the Ubuntu distribution from the Windows Store. We recommend you to [install the latest LTS version](https://www.microsoft.com/store/productId/9PDXGNCFSCZV).

You can also install Ubuntu LTS manually by following the instructions.

```powershell
wsl --install -d Ubuntu
```

::alert{type="info"}
You can read more about Ubuntu on the [Microsoft documentation](https://learn.microsoft.com/en-us/windows/wsl/install-manual#step-6---install-your-linux-distribution-of-choice).
::

Once the installation is complete, you will need to enable `systemd` support. In fact, ArmoniK uses Kubernetes which requires `systemd`.

To enable `systemd` support, you must run start your Ubuntu distribution and add these lines to the `/etc/wsl.conf` file (you will need sudo privileges):

```bash
[boot]
systemd=true
```

::alert{type="info"}
Read more about `systemd` support on the [Microsoft documentation](https://devblogs.microsoft.com/commandline/systemd-support-is-now-available-in-wsl/).
::

Then you must restart your Ubuntu distribution in order to apply changes.

```powershell
wsl --shutdown
```

## Install ArmoniK

::alert{type="warning"}
Be carefull, you must enable `systemd` support before installing ArmoniK.
::

First, clone the ArmoniK repository (inside your home directory from WSL2 Ubuntu distribution):

```bash
git clone https://github.com/aneoconsulting/ArmoniK.git
```

Then, you can install ArmoniK following the [Linux installation instructions](../1.linux/1.installation.md).

## Commands to know

- To verify the WSL version:
  ```bash
  wsl --list --verbose
  ```

- To view installed distro list:
  ```bash
  wsl --list
  ```

- To change the default distro:
  ```bash
  wsl --set-default <distro_name>
  ```

- To launch a distro:
  ```bash
  wsl -d <distro_name>
  ```

- To launch a command in a distro:
  ```bash
  wsl -d <distro_name> -e <command>
  ```

- To uninstall a distro:
  ```bash
  wsl --unregister <distro_name>
  ```
